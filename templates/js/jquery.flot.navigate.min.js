/* Flot plugin for adding the ability to pan and zoom the plot.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
/*
jquery.event.drag.js ~ v1.5 ~ Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)
Licensed under the MIT License ~ http://threedubmedia.googlecode.com/files/MIT-LICENSE.txt
*/
/* jquery.mousewheel.min.js
 * Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 */
(function(d){function b(a){var k,g=this,e=a.data||{};if(e.elem)g=a.dragTarget=e.elem,a.dragProxy=c.proxy||g,a.cursorOffsetX=e.pageX-e.left,a.cursorOffsetY=e.pageY-e.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(c.dragging||0<e.which&&a.which!=e.which||d(a.target).is(e.not))return;switch(a.type){case "mousedown":return d.extend(e,d(g).offset(),{elem:g,target:a.target,pageX:a.pageX,pageY:a.pageY}),h.add(document,"mousemove mouseup",b,e),n(g,!1),c.dragging=null,!1;case !c.dragging&&
"mousemove":if(Math.pow(a.pageX-e.pageX,2)+Math.pow(a.pageY-e.pageY,2)<e.distance)break;a.target=e.target;k=f(a,"dragstart",g);!1!==k&&(c.dragging=g,c.proxy=a.dragProxy=d(k||g)[0]);case "mousemove":if(c.dragging){if(k=f(a,"drag",g),l.drop&&(l.drop.allowed=!1!==k,l.drop.handler(a)),!1!==k)break;a.type="mouseup"}case "mouseup":h.remove(document,"mousemove mouseup",b),c.dragging&&(l.drop&&l.drop.handler(a),f(a,"dragend",g)),n(g,!0),c.dragging=c.proxy=e.elem=!1}return!0}function f(a,b,c){a.type=b;b=d.event.dispatch.call(c,
a);return!1===b?!1:b||a.result}function m(){return!1===c.dragging}function n(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}d.fn.drag=function(a,b,c){return b&&this.bind("dragstart",a),c&&this.bind("dragend",c),a?this.bind("drag",b?b:a):this.trigger("drag")};var h=d.event,l=h.special,c=l.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=d.extend({distance:c.distance,which:c.which,not:c.not},a||{});a.distance=
Math.pow(a.distance,2);h.add(this,"mousedown",b,a);this.attachEvent&&this.attachEvent("ondragstart",m)},teardown:function(){h.remove(this,"mousedown",b);this===c.dragging&&(c.dragging=c.proxy=!1);n(this,!0);this.detachEvent&&this.detachEvent("ondragstart",m)}};l.dragstart=l.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(d){function b(b){var h=b||window.event,f=[].slice.call(arguments,1),c=0,a=0,k=0;b=d.event.fix(h);b.type="mousewheel";h.wheelDelta&&(c=h.wheelDelta/120);h.detail&&(c=-h.detail/3);k=c;void 0!==h.axis&&h.axis===h.HORIZONTAL_AXIS&&(k=0,a=-1*c);void 0!==h.wheelDeltaY&&(k=h.wheelDeltaY/120);void 0!==h.wheelDeltaX&&(a=-1*h.wheelDeltaX/120);f.unshift(b,c,a,k);return(d.event.dispatch||d.event.handle).apply(this,f)}var f=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks)for(var m=f.length;m;)d.event.fixHooks[f[--m]]=
d.event.mouseHooks;d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var d=f.length;d;)this.addEventListener(f[--d],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var d=f.length;d;)this.removeEventListener(f[--d],b,!1);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(d){d.plot.plugins.push({init:function(b){function f(e,a){var c=b.offset();c.left=e.pageX-c.left;c.top=e.pageY-c.top;a?b.zoomOut({center:c}):b.zoom({center:c})}function m(b,a){b.preventDefault();f(b,0>a);return!1}function n(e){if(1!=e.which)return!1;var p=b.getPlaceholder().css("cursor");p&&(c=p);b.getPlaceholder().css("cursor",b.getOptions().pan.cursor);a=e.pageX;k=e.pageY}function h(e){var c=b.getOptions().pan.frameRate;!g&&c&&(g=setTimeout(function(){b.pan({left:a-e.pageX,top:k-e.pageY});
a=e.pageX;k=e.pageY;g=null},1/c*1E3))}function l(e){g&&(clearTimeout(g),g=null);b.getPlaceholder().css("cursor",c);b.pan({left:a-e.pageX,top:k-e.pageY})}var c="default",a=0,k=0,g=null;b.zoomOut=function(a){a||(a={});a.amount||(a.amount=b.getOptions().zoom.amount);a.amount=1/a.amount;b.zoom(a)};b.zoom=function(a){a||(a={});var c=a.center,h=a.amount||b.getOptions().zoom.amount,g=b.width(),f=b.height();c||(c={left:g/2,top:f/2});var k=c.left/g,l=c.top/f,q={x:{min:c.left-k*g/h,max:c.left+(1-k)*g/h},y:{min:c.top-
l*f/h,max:c.top+(1-l)*f/h}};d.each(b.getAxes(),function(a,b){var c=b.options,e=q[b.direction].min,d=q[b.direction].max,g=c.zoomRange,f=c.panRange;if(!1!==g){e=b.c2p(e);d=b.c2p(d);if(e>d)var p=e,e=d,d=p;f&&(null!=f[0]&&e<f[0]&&(e=f[0]),null!=f[1]&&d>f[1]&&(d=f[1]));f=d-e;g&&(null!=g[0]&&f<g[0]&&1<h||null!=g[1]&&f>g[1]&&1>h)||(c.min=e,c.max=d)}});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotzoom",[b,a])};b.pan=function(a){var c={x:+a.left,y:+a.top};isNaN(c.x)&&(c.x=0);isNaN(c.y)&&
(c.y=0);d.each(b.getAxes(),function(a,b){var e=b.options,d,f,g=c[b.direction];d=b.c2p(b.p2c(b.min)+g);f=b.c2p(b.p2c(b.max)+g);var h=e.panRange;!1!==h&&(h&&(null!=h[0]&&h[0]>d&&(g=h[0]-d,d+=g,f+=g),null!=h[1]&&h[1]<f&&(g=h[1]-f,d+=g,f+=g)),e.min=d,e.max=f)});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotpan",[b,a])};b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.zoom.interactive&&(b[c.zoom.trigger](f),b.mousewheel(m));c.pan.interactive&&(b.bind("dragstart",{distance:10},
n),b.bind("drag",h),b.bind("dragend",l))});b.hooks.shutdown.push(function(b,a){a.unbind(b.getOptions().zoom.trigger,f);a.unbind("mousewheel",m);a.unbind("dragstart",n);a.unbind("drag",h);a.unbind("dragend",l);g&&clearTimeout(g)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);